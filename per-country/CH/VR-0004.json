{
  "t": "VR",
  "c": "CH",
  "n": "0004",
  "Identifier": "VR-CH-0004",
  "Type": "Acceptance",
  "Country": "CH",
  "Version": "1.0.7",
  "SchemaVersion": "1.0.0",
  "Engine": "CERTLOGIC",
  "EngineVersion": "0.7.5",
  "CertificateType": "Vaccination",
  "Description": [
    {
      "desc": "If the vaccine requires two doses, the vaccination date must be before today",
      "lang": "en"
    }
  ],
  "ValidFrom": "2021-12-17T00:00:00Z",
  "ValidTo": "2031-01-01T00:00:00Z",
  "AffectedFields": [
    "v.0.mp",
    "v.0",
    "v.0.dt"
  ],
  "Logic": {
    "if": [
      {
        "and": [
          {
            "var": "payload.v.0"
          },
          {
            "in": [
              {
                "var": "payload.v.0.mp"
              },
              [
                "EU/1/20/1528",
                "EU/1/20/1507",
                "EU/1/21/1529",
                "CoronaVac",
                "BBIBP-CorV",
                "Covishield",
                "Covaxin",
                "BBIBP-CorV_T",
                "CoronaVac_T",
                "Covaxin_T",
                "R-COVI",
                "Covid-19-recombinant"
              ]
            ]
          }
        ]
      },
      {
        "not-after": [
          {
            "plusTime": [
              {
                "var": "payload.v.0.dt"
              },
              0,
              "day"
            ]
          },
          {
            "plusTime": [
              {
                "var": "external.validationClock"
              },
              0,
              "day"
            ]
          }
        ]
      },
      true
    ]
  },
  "expr-as-text": "if (/payload.v.0) and ((/payload.v.0.mp) in ([ \"EU/1/20/1528\", \"EU/1/20/1507\", \"EU/1/21/1529\", \"CoronaVac\", \"BBIBP-CorV\", \"Covishield\", \"Covaxin\", \"BBIBP-CorV_T\", \"CoronaVac_T\", \"Covaxin_T\", \"R-COVI\", \"Covid-19-recombinant\" ])) then (/payload.v.0.dt +0 days) not-after (/external.validationClock +0 days) else true"
}